<!DOCTYPE html>
<html lang="ka" data-theme="dark">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <title>IMEDCalc - áƒ¡áƒáƒ›áƒ”áƒ“áƒ˜áƒªáƒ˜áƒœáƒ áƒ™áƒáƒšáƒ™áƒ£áƒšáƒáƒ¢áƒáƒ áƒ”áƒ‘áƒ˜</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=Fira+Sans:wght@400;600;700&display=swap" rel="stylesheet">
    
    <!-- PWA Support -->
    <link rel="manifest" href="/manifest.json">
    <meta name="theme-color" content="#0f172a">
    <link rel="apple-touch-icon" href="/icon-192x192.png">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    fontFamily: {
                        'inter': ['Inter', 'sans-serif'],
                        'fira': ['Fira Sans', 'monospace']
                    }
                }
            }
        }
    </script>

    <style>
        :root {
            --bg: #0f172a;
            --card: #1e293b;
            --surface: #334155;
            --muted: #94a3b8;
            --text: #e2e8f0;
            --brand: #22d3ee;
            --brand-2: #818cf8;
            --ok: #22c55e;
            --warn: #f59e0b;
            --err: #ef4444;
            --ring: rgba(34, 211, 238, 0.35);
            --shadow-3: 0 10px 30px rgba(0,0,0,.45), 0 2px 8px rgba(0,0,0,.35);
            --radius-2xl: 1.25rem;
            --transition: all 0.3s ease;
        }

        [data-theme="light"] {
            --bg: #f1f5f9;
            --card: #ffffff;
            --surface: #f8fafc;
            --muted: #64748b;
            --text: #1f2937;
            --brand: #06b6d4;
            --brand-2: #4f46e5;
            --ok: #059669;
            --warn: #d97706;
            --err: #dc2626;
            --ring: rgba(6, 182, 212, 0.25);
            --shadow-3: 0 10px 30px rgba(0,0,0,.1), 0 2px 8px rgba(0,0,0,.05);
        }

        * { box-sizing: border-box; }
        html, body { height: 100%; margin: 0; }
        body {
            font-family: 'Inter', sans-serif;
            background: var(--bg);
            color: var(--text);
            transition: var(--transition);
            line-height: 1.6;
            font-size: 16px;
            overscroll-behavior: none;
        }
        [data-theme="dark"] body {
            background: 
                radial-gradient(80rem 40rem at 10% -10%, rgba(129,140,248,.08), transparent 60%),
                radial-gradient(70rem 30rem at 110% 10%, rgba(34,211,238,.08), transparent 60%),
                var(--bg);
        }

        .container { 
            @apply max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6;
        }
        
        header {
            @apply bg-card rounded-3xl shadow-2xl p-6 flex flex-col sm:flex-row items-start sm:items-center gap-4 justify-between border border-surface transition-all duration-300;
        }
        
        .brand { 
            @apply flex items-center gap-4; 
        }
        .logo {
            @apply w-12 h-12 rounded-2xl bg-gradient-to-br from-brand to-brand-2 shadow-lg flex items-center justify-center overflow-hidden transition-all duration-300;
        }
        [data-theme="light"] .logo {
            @apply shadow-md;
        }
        .logo img {
            @apply w-10 h-10;
        }
        .brand h1 { 
            @apply text-2xl font-black tracking-tight m-0; 
        }
        .brand p { 
            @apply text-sm opacity-75 m-0; 
        }
        
        .disclaimer { 
            @apply text-muted text-sm mt-4 text-center; 
        }
        
        .theme-toggle {
            @apply bg-surface text-text border border-muted rounded-full px-4 py-2 flex items-center gap-2 font-medium cursor-pointer transition-all duration-300 hover:-translate-y-0.5 hover:shadow-md active:scale-95 touch-manipulation;
        }
        
        .nav-menu {
            @apply flex flex-wrap gap-3 justify-center mt-6 sm:mt-0;
        }
        .nav-btn {
            @apply bg-gradient-to-r from-brand to-brand-2 text-card px-6 py-3 rounded-xl font-bold text-sm shadow-lg cursor-pointer transition-all duration-300 hover:-translate-y-1 hover:shadow-xl active:scale-95 touch-manipulation border-0;
        }
        
        .auth-buttons {
            @apply flex flex-wrap gap-2 items-center;
        }
        
        .grid { 
            @apply grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6 mt-8 hidden; 
        }
        .grid.active { 
            @apply block; 
            animation: fadeIn 0.5s ease; 
        }
        @keyframes fadeIn { 
            from { opacity: 0; transform: translateY(20px); } 
            to { opacity: 1; transform: translateY(0); } 
        }

        .card {
            @apply bg-card border border-surface rounded-3xl p-6 shadow-xl transition-all duration-300 hover:-translate-y-2 hover:shadow-2xl cursor-pointer;
        }
        [data-theme="light"] .card {
            @apply shadow-lg;
        }

        .card h2 { 
            @apply text-xl font-black mb-4 flex items-center gap-2; 
        }
        .formula {
            @apply font-fira text-sm text-brand py-3 px-4 mb-4 border-b-2 border-dashed border-surface rounded-lg bg-surface/50;
        }
        .muted { 
            @apply text-muted text-sm; 
        }
        .row { 
            @apply grid grid-cols-1 md:grid-cols-2 gap-4; 
        }
        
        label { 
            @apply block text-sm font-medium mb-2 text-text; 
        }
        input, select {
            @apply w-full p-4 bg-surface text-text border border-muted rounded-xl outline-none transition-all duration-300 text-base min-h-[44px] placeholder:text-muted/70;
        }
        input:focus, select:focus { 
            @apply border-brand ring-4 ring-ring; 
        }
        
        .btns { 
            @apply flex flex-wrap gap-3 mt-6; 
        }
        button {
            @apply px-6 py-3 border-0 rounded-xl font-bold cursor-pointer transition-all duration-300 text-sm min-h-[44px] touch-manipulation shadow-lg;
        }
        .btn-primary {
            @apply bg-gradient-to-r from-brand to-brand-2 text-card hover:from-brand-dark hover:to-brand-2-dark active:scale-95;
        }
        .btn-ghost {
            @apply bg-surface text-text border border-muted hover:bg-surface/80 active:bg-surface/70;
        }
        
        .result {
            @apply mt-6 p-4 rounded-xl bg-surface border-2 border-dashed border-brand-2 font-bold tracking-wide text-sm transition-all duration-300;
        }
        
        .note { 
            @apply mt-6 pl-4 pr-4 py-3 border-l-4 rounded-lg text-sm; 
        }
        .note-success { 
            @apply border-ok bg-ok/10; 
        }
        .note-warning { 
            @apply border-warn bg-warn/10; 
        }
        .note-danger { 
            @apply border-err bg-err/10; 
        }
        
        .foot { 
            @apply mt-12 text-center text-muted text-xs pt-8 border-t border-surface; 
        }
        
        .tag, .chip {
            @apply inline-block text-xs px-3 py-1 rounded-full font-medium ml-2 border;
        }
        .chip { 
            @apply bg-brand/10 border-brand text-brand font-semibold; 
        }
        
        .recommendations {
            @apply mt-6 p-4 bg-surface rounded-xl border border-muted;
        }
        .recommendations table {
            @apply w-full border-collapse;
        }
        .recommendations th, .recommendations td {
            @apply p-3 border border-muted text-left text-sm;
        }
        .recommendations th {
            @apply bg-brand-2 text-card font-bold;
        }

        /* Modal Styles */
        .modal {
            @apply fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 hidden p-4;
        }
        .modal-content {
            @apply bg-card rounded-2xl p-6 w-full max-w-md max-h-[90vh] overflow-y-auto shadow-2xl border border-surface;
        }
        .modal-header {
            @apply text-xl font-black mb-6 flex items-center gap-2 pb-2 border-b border-surface;
        }
        .modal-close {
            @apply absolute top-4 right-4 text-muted hover:text-text transition-colors p-1 rounded-full hover:bg-surface/50;
        }

        /* Responsive */
        @media (max-width: 640px) {
            body { font-size: 15px; }
            .container { @apply px-4 py-4; }
            header { @apply p-4 flex-col items-stretch gap-4; }
            .logo { @apply w-10 h-10; }
            .brand h1 { @apply text-xl; }
            .nav-menu { @apply gap-2 mt-4 justify-center; }
            .nav-btn { @apply px-4 py-2 text-sm; }
            .grid { @apply gap-4 mt-6; }
            .card { @apply p-4; }
            .card h2 { @apply text-lg; }
            .row { @apply grid-cols-1 gap-3; }
            .btns { @apply gap-2 flex-col sm:flex-row; }
            
            .recommendations table { 
                @apply block overflow-x-auto; 
            }
            .recommendations thead { @apply hidden; }
            .recommendations tbody, .recommendations tr { @apply block; }
            .recommendations td {
                @apply block text-left p-3 relative pl-0 border-b border-muted;
            }
            .recommendations td:before {
                content: attr(data-label);
                @apply absolute left-3 w-1/3 font-bold text-brand;
            }
            .recommendations tr { 
                @apply mb-3 border border-muted rounded-lg p-3; 
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header>
            <div class="brand">
                <div class="logo">
                    <img src="/logo.svg" alt="IMEDCalc Logo" onerror="this.src='data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCA0MCA0MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTEwIDEwIEwxMCAzMEwxNSAxNUwyNSAyNUwzMCAzMEwzMCAxMEwxMCAxMFoiIGZpbGw9IiM3MDcwNzAiLz4KPC9zdmc+'">
                </div>
                <div>
                    <h1>IMEDCalc</h1>
                    <p>áƒ¡áƒáƒ›áƒ”áƒ“áƒ˜áƒªáƒ˜áƒœáƒ áƒ™áƒáƒšáƒ™áƒ£áƒšáƒáƒ¢áƒáƒ áƒ”áƒ‘áƒ˜</p>
                </div>
            </div>
            
            <div class="flex flex-col sm:flex-row gap-3 items-end sm:items-center w-full sm:w-auto">
                <div class="auth-buttons flex-1 sm:flex-none">
                    <button id="loginBtn" class="nav-btn" onclick="showModal('loginModal')">áƒ¨áƒ”áƒ¡áƒ•áƒšáƒ</button>
                    <button id="registerBtn" class="nav-btn" onclick="showModal('registerModal')">áƒ áƒ”áƒ’áƒ˜áƒ¡áƒ¢áƒ áƒáƒªáƒ˜áƒ</button>
                    <button id="profileBtn" class="nav-btn hidden" onclick="showModal('profileModal')">áƒáƒ áƒáƒ¤áƒ˜áƒšáƒ˜</button>
                    <button id="logoutBtn" class="nav-btn hidden" onclick="handleLogout()">áƒ’áƒáƒ›áƒáƒ¡áƒ•áƒšáƒ</button>
                </div>
                
                <button class="theme-toggle" onclick="toggleTheme()" id="themeToggle">
                    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="theme-icon">
                        <path class="sun-hidden" d="M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2Z"/>
                        <path class="moon-hidden" d="m21.64 13a14 14 0 0 0-16.5-9.09A2 2 0 0 0 3 11.5a2 2 0 0 0 2 2h.5a2 2 0 0 0 2-2 2 2 0 0 0-2-2 2 2 0 0 0-.366.03 12 12 0 0 0 12.73 12.73A2 2 0 0 0 20.5 21a2 2 0 0 0 2-2 2 2 0 0 0-2-2h-.5a2 2 0 0 0-2 2 2 2 0 0 0 2 2 2 2 0 0 0 1.09-.58Z"/>
                    </svg>
                    <span id="themeText">áƒ¦áƒ˜áƒ áƒ—áƒ”áƒ›áƒ</span>
                </button>
            </div>
        </header>

        <p class="disclaimer">âš ï¸ <strong>áƒ“áƒáƒ›áƒ®áƒ›áƒáƒ áƒ” áƒ®áƒ”áƒšáƒ¡áƒáƒ¬áƒ§áƒ</strong> â€” áƒ¡áƒáƒ•áƒáƒšáƒ“áƒ”áƒ‘áƒ£áƒšáƒáƒ áƒ¨áƒ”áƒ“áƒ”áƒ’áƒ”áƒ‘áƒ˜áƒ¡ áƒ’áƒáƒ“áƒáƒ›áƒáƒ¬áƒ›áƒ”áƒ‘áƒ áƒ™áƒšáƒ˜áƒœáƒ˜áƒ™áƒ£áƒ  áƒáƒ áƒáƒ¢áƒáƒ™áƒáƒšáƒ”áƒ‘áƒ—áƒáƒœ áƒ“áƒ áƒáƒáƒªáƒ˜áƒ”áƒœáƒ¢áƒ˜áƒ¡ áƒ›áƒ“áƒ’áƒáƒ›áƒáƒ áƒ”áƒáƒ‘áƒáƒ¡áƒ—áƒáƒœ.</p>

        <!-- Navigation -->
        <nav class="nav-menu">
            <button class="nav-btn" onclick="showCalculator('bicarb-card')">ğŸ§ª áƒ¡áƒáƒ“áƒ áƒ‘áƒ£áƒ¤áƒ”áƒ áƒ˜</button>
            <button class="nav-btn" onclick="showCalculator('potassium-card')">âš¡ áƒ™áƒáƒšáƒ˜áƒ£áƒ›áƒ˜áƒ¡ áƒ’áƒáƒ“áƒáƒ¡áƒ®áƒ›áƒ</button>
            <button class="nav-btn" onclick="showCalculator('kcoef-card')">ğŸ“Š K áƒ™áƒáƒ”áƒ¤áƒ˜áƒªáƒ˜áƒ”áƒœáƒ¢áƒ˜</button>
            <button class="nav-btn" onclick="showCalculator('solu-card')">ğŸ’‰ áƒ¡áƒáƒšáƒ£áƒ›áƒ”áƒ“áƒ áƒáƒšáƒ˜</button>
            <button class="nav-btn" onclick="showCalculator('crcl-card')">ğŸ©¸ CrCl áƒ™áƒáƒšáƒ™áƒ£áƒšáƒáƒ¢áƒáƒ áƒ˜</button>
        </nav>

        <!-- Calculator Grid -->
        <div class="grid" id="calculatorGrid">
            <!-- Bicarbonate Calculator -->
            <section class="card" id="bicarb-card">
                <h2>ğŸ§ª áƒ¡áƒáƒ“áƒ áƒ‘áƒ£áƒ¤áƒ”áƒ áƒ˜ â€” áƒ’áƒáƒ“áƒáƒ¡áƒ®áƒ›áƒ˜áƒ¡ áƒ’áƒáƒ›áƒáƒ—áƒ•áƒšáƒ <span class="tag">áƒ¤áƒáƒ áƒ›áƒ£áƒšáƒ</span></h2>
                <div class="formula">áƒ¬áƒáƒœáƒ Ã— |BE(act)| Ã— 2 Ã— 0.3 = áƒ›áƒš</div>
                <p class="muted">áƒ¨áƒ”áƒ˜áƒ§áƒ•áƒáƒœáƒ”áƒ— áƒáƒáƒªáƒ˜áƒ”áƒœáƒ¢áƒ˜áƒ¡ áƒ›áƒáƒœáƒáƒªáƒ”áƒ›áƒ”áƒ‘áƒ˜ áƒ“áƒáƒ–áƒ˜áƒ¡ áƒ’áƒáƒ›áƒáƒ¡áƒáƒ—áƒ•áƒšáƒ”áƒšáƒáƒ“.</p>
                
                <div class="row">
                    <div>
                        <label for="bicarb-weight">áƒáƒáƒªáƒ˜áƒ”áƒœáƒ¢áƒ˜áƒ¡ áƒ¬áƒáƒœáƒ (áƒ™áƒ’)</label>
                        <input id="bicarb-weight" type="number" min="0" step="0.1" placeholder="áƒ›áƒáƒ’. 70" />
                    </div>
                    <div>
                        <label for="bicarb-be">BE (áƒáƒ‘áƒ¡áƒáƒšáƒ£áƒ¢áƒ£áƒ áƒ˜ áƒ›áƒœáƒ˜áƒ¨áƒ•áƒœáƒ”áƒšáƒáƒ‘áƒ)</label>
                        <input id="bicarb-be" type="number" step="0.1" placeholder="áƒ›áƒáƒ’. 8" />
                    </div>
                </div>
                
                <div class="btns">
                    <button class="btn-primary" onclick="calcBicarb()">ğŸ§® áƒ’áƒáƒ›áƒáƒ—áƒ•áƒšáƒ</button>
                    <button class="btn-ghost" onclick="resetCard('bicarb-card')">ğŸ”„ áƒ’áƒáƒ¡áƒ£áƒ¤áƒ—áƒáƒ•áƒ”áƒ‘áƒ</button>
                    <button class="btn-ghost" onclick="copyResult('bicarb-result')">ğŸ“‹ áƒ™áƒáƒáƒ˜áƒ áƒ”áƒ‘áƒ</button>
                </div>
                
                <div id="bicarb-result" class="result" aria-live="polite">áƒ¨áƒ”áƒ“áƒ”áƒ’áƒ˜: â€”</div>
                <div class="note note-warning">
                    ğŸ“ áƒ¨áƒ”áƒœáƒ˜áƒ¨áƒ•áƒœáƒ: áƒ¨áƒ”áƒáƒ“áƒáƒ áƒ”áƒ— áƒ¨áƒ”áƒ“áƒ”áƒ’áƒ˜ áƒ—áƒ¥áƒ•áƒ”áƒœáƒ¡ áƒ®áƒ¡áƒœáƒáƒ áƒ˜áƒ¡ áƒ™áƒáƒœáƒªáƒ”áƒœáƒ¢áƒ áƒáƒªáƒ˜áƒáƒ¡áƒ—áƒáƒœ (áƒ©áƒ•áƒ”áƒ£áƒšáƒ”áƒ‘áƒ áƒ˜áƒ• 8.4%).
                </div>
            </section>

            <!-- Potassium Calculator -->
            <section class="card" id="potassium-card">
                <h2>âš¡ áƒ™áƒáƒšáƒ˜áƒ£áƒ›áƒ˜áƒ¡ áƒ’áƒáƒ“áƒáƒ¡áƒ®áƒ›áƒ <span class="chip">áƒœáƒ”áƒšáƒ áƒ’áƒáƒ“áƒáƒ¡áƒ®áƒ›áƒ</span></h2>
                <div class="formula">(áƒ¬áƒáƒœáƒ Ã— 1.74) Ã· áƒ™áƒáƒšáƒ˜áƒ£áƒ›áƒ˜áƒ¡ áƒ›áƒáƒ©áƒ•áƒ”áƒœáƒ”áƒ‘áƒ”áƒšáƒ˜ = áƒ›áƒš</div>
                <p class="muted">áƒ’áƒáƒ›áƒáƒ—áƒ•áƒšáƒ˜áƒ¡ áƒ¡áƒáƒ­áƒ˜áƒ áƒ KCl-áƒ˜áƒ¡ áƒáƒ“áƒ”áƒœáƒáƒ‘áƒ áƒ›áƒ˜áƒ—áƒ˜áƒ—áƒ”áƒ‘áƒ£áƒšáƒ˜ áƒ“áƒáƒœáƒ˜áƒ¡ áƒ›áƒ˜áƒ¡áƒáƒ¦áƒ¬áƒ”áƒ•áƒáƒ“.</p>
                
                <div class="row">
                    <div>
                        <label for="k-weight">áƒáƒáƒªáƒ˜áƒ”áƒœáƒ¢áƒ˜áƒ¡ áƒ¬áƒáƒœáƒ (áƒ™áƒ’)</label>
                        <input id="k-weight" type="number" min="0" step="0.1" placeholder="áƒ›áƒáƒ’. 70" />
                    </div>
                    <div>
                        <label for="k-level">áƒ™áƒáƒšáƒ˜áƒ£áƒ›áƒ˜áƒ¡ áƒ›áƒáƒ©áƒ•áƒ”áƒœáƒ”áƒ‘áƒ”áƒšáƒ˜ (mmol/L)</label>
                        <input id="k-level" type="number" min="0.1" step="0.1" placeholder="áƒ›áƒáƒ’. 3.0" />
                    </div>
                </div>
                
                <div class="btns">
                    <button class="btn-primary" onclick="calcPotassium()">ğŸ§® áƒ’áƒáƒ›áƒáƒ—áƒ•áƒšáƒ</button>
                    <button class="btn-ghost" onclick="resetCard('potassium-card')">ğŸ”„ áƒ’áƒáƒ¡áƒ£áƒ¤áƒ—áƒáƒ•áƒ”áƒ‘áƒ</button>
                    <button class="btn-ghost" onclick="copyResult('potassium-result')">ğŸ“‹ áƒ™áƒáƒáƒ˜áƒ áƒ”áƒ‘áƒ</button>
                </div>
                
                <div id="potassium-result" class="result" aria-live="polite">áƒ¨áƒ”áƒ“áƒ”áƒ’áƒ˜: â€”</div>
                <div class="note note-success">
                    âœ… <strong>áƒ›áƒœáƒ˜áƒ¨áƒ•áƒœáƒ”áƒšáƒáƒ•áƒáƒœáƒ˜:</strong> áƒ™áƒáƒšáƒ˜áƒ£áƒ›áƒ˜ <strong>áƒ›áƒ®áƒáƒšáƒáƒ“ áƒœáƒ”áƒšáƒ</strong> áƒ£áƒœáƒ“áƒ áƒ’áƒáƒ“áƒáƒ˜áƒ¡áƒ®áƒáƒ¡ (10-20 mmol/áƒ¡áƒ—) áƒ›áƒáƒœáƒ˜áƒ¢áƒáƒ áƒ˜áƒœáƒ’áƒ˜áƒ—!
                </div>
            </section>

            <!-- K Coefficient Calculator -->
            <section class="card" id="kcoef-card">
                <h2>ğŸ“Š K áƒ™áƒáƒ”áƒ¤áƒ˜áƒªáƒ˜áƒ”áƒœáƒ¢áƒ˜</h2>
                <div class="formula">áƒ›áƒ”áƒ“áƒ˜áƒ™áƒáƒ›áƒ”áƒœáƒ¢áƒ˜áƒ¡ áƒ›áƒ’ Ã— 1000 Ã· áƒ®áƒ¡áƒœáƒáƒ áƒ˜áƒ¡ áƒ›áƒš = áƒ›áƒ™áƒ’/áƒ›áƒš</div>
                <p class="muted">áƒ’áƒáƒ›áƒáƒ—áƒ•áƒšáƒ˜áƒ¡ áƒ›áƒ”áƒ“áƒ˜áƒ™áƒáƒ›áƒ”áƒœáƒ¢áƒ˜áƒ¡ áƒ™áƒáƒœáƒªáƒ”áƒœáƒ¢áƒ áƒáƒªáƒ˜áƒáƒ¡ áƒ®áƒ¡áƒœáƒáƒ áƒ¨áƒ˜.</p>
                
                <div class="row">
                    <div>
                        <label for="kcoef-mg">áƒ›áƒ”áƒ“áƒ˜áƒ™áƒáƒ›áƒ”áƒœáƒ¢áƒ˜áƒ¡ áƒ áƒáƒáƒ“áƒ”áƒœáƒáƒ‘áƒ (mg)</label>
                        <input id="kcoef-mg" type="number" min="0" step="0.1" placeholder="áƒ›áƒáƒ’. 500" />
                    </div>
                    <div>
                        <label for="kcoef-vol">áƒ®áƒ¡áƒœáƒáƒ áƒ˜áƒ¡ áƒ áƒáƒáƒ“áƒ”áƒœáƒáƒ‘áƒ (áƒ›áƒš)</label>
                        <input id="kcoef-vol" type="number" min="0.1" step="0.1" placeholder="áƒ›áƒáƒ’. 100" />
                    </div>
                </div>
                
                <div class="btns">
                    <button class="btn-primary" onclick="calcKcoef()">ğŸ§® áƒ’áƒáƒ›áƒáƒ—áƒ•áƒšáƒ</button>
                    <button class="btn-ghost" onclick="resetCard('kcoef-card')">ğŸ”„ áƒ’áƒáƒ¡áƒ£áƒ¤áƒ—áƒáƒ•áƒ”áƒ‘áƒ</button>
                    <button class="btn-ghost" onclick="copyResult('kcoef-result')">ğŸ“‹ áƒ™áƒáƒáƒ˜áƒ áƒ”áƒ‘áƒ</button>
                </div>
                
                <div id="kcoef-result" class="result" aria-live="polite">áƒ¨áƒ”áƒ“áƒ”áƒ’áƒ˜: â€”</div>
                <div class="note">
                    ğŸ’¡ áƒ¨áƒ”áƒ“áƒ”áƒ’áƒ˜ áƒ’áƒáƒ›áƒáƒ®áƒáƒ¢áƒ£áƒšáƒ˜áƒ áƒ›áƒ˜áƒ™áƒ áƒáƒ’áƒ áƒáƒ›áƒ”áƒ‘áƒ¨áƒ˜ áƒ›áƒ˜áƒšáƒ˜áƒšáƒ˜áƒ¢áƒ áƒ–áƒ” (áƒ›áƒ™áƒ’/áƒ›áƒš).
                </div>
            </section>

            <!-- Solumedrol Calculator -->
            <section class="card" id="solu-card">
                <h2>ğŸ’‰ áƒ¡áƒáƒšáƒ£áƒ›áƒ”áƒ“áƒ áƒáƒšáƒ˜ â€” áƒ“áƒáƒ›áƒ áƒ¢áƒ§áƒ›áƒ”áƒšáƒ˜ áƒ“áƒáƒ–áƒ</h2>
                <div class="formula">30 mg/kg â€” IV áƒ’áƒáƒ“áƒáƒ¡áƒ®áƒ›áƒ 15 áƒ¬áƒ£áƒ—áƒ¨áƒ˜</div>
                <p class="muted">áƒ¡áƒ¢áƒáƒœáƒ“áƒáƒ áƒ¢áƒ£áƒšáƒ˜ áƒ“áƒáƒ›áƒ áƒ¢áƒ§áƒ›áƒ”áƒšáƒ˜ áƒ“áƒáƒ–áƒ áƒáƒ¡áƒ—áƒ›áƒ˜áƒ¡ áƒ”áƒ¥áƒ¡áƒáƒ‘áƒ”áƒ áƒªáƒ˜áƒáƒªáƒ˜áƒ˜áƒ¡áƒ—áƒ•áƒ˜áƒ¡.</p>
                
                <div class="row">
                    <div class="md:col-span-2">
                        <label for="solu-weight">áƒáƒáƒªáƒ˜áƒ”áƒœáƒ¢áƒ˜áƒ¡ áƒ¬áƒáƒœáƒ (áƒ™áƒ’)</label>
                        <input id="solu-weight" type="number" min="0" step="0.1" placeholder="áƒ›áƒáƒ’. 70" />
                    </div>
                </div>
                
                <div class="btns">
                    <button class="btn-primary" onclick="calcSolu()">ğŸ§® áƒ’áƒáƒ›áƒáƒ—áƒ•áƒšáƒ</button>
                    <button class="btn-ghost" onclick="resetCard('solu-card')">ğŸ”„ áƒ’áƒáƒ¡áƒ£áƒ¤áƒ—áƒáƒ•áƒ”áƒ‘áƒ</button>
                    <button class="btn-ghost" onclick="copyResult('solu-result')">ğŸ“‹ áƒ™áƒáƒáƒ˜áƒ áƒ”áƒ‘áƒ</button>
                </div>
                
                <div id="solu-result" class="result" aria-live="polite">áƒ¨áƒ”áƒ“áƒ”áƒ’áƒ˜: â€”</div>
                <div class="note note-success">
                    ğŸ’‰ <strong>áƒ áƒ”áƒ™áƒáƒ›áƒ”áƒœáƒ“áƒáƒªáƒ˜áƒ:</strong> áƒ’áƒáƒ›áƒáƒ˜áƒ§áƒ”áƒœáƒ”áƒ— áƒáƒáƒ›áƒáƒ˜ 200 áƒ›áƒš/áƒ¡áƒ—-áƒ–áƒ”. áƒ’áƒáƒ“áƒáƒ¡áƒ®áƒ›áƒ áƒ£áƒœáƒ“áƒ áƒ’áƒáƒ’áƒ áƒ«áƒ”áƒšáƒ“áƒ”áƒ¡ 15 áƒ¬áƒ£áƒ—áƒ˜áƒ¡ áƒ’áƒáƒœáƒ›áƒáƒ•áƒšáƒáƒ‘áƒáƒ¨áƒ˜.
                </div>
            </section>

            <!-- CrCl Calculator -->
            <section class="card" id="crcl-card">
                <h2>ğŸ©¸ áƒ™áƒ áƒ”áƒáƒ¢áƒ˜áƒœáƒ˜áƒœáƒ˜áƒ¡ áƒ™áƒšáƒ˜áƒ áƒ”áƒœáƒ¡áƒ˜ (Cockcroft-Gault)</h2>
                <div class="formula">[140 âˆ’ áƒáƒ¡áƒáƒ™áƒ˜] Ã— áƒ¬áƒáƒœáƒ Ã— (0.85 áƒ¥áƒáƒšáƒ˜áƒ¡áƒ—áƒ•áƒ˜áƒ¡) Ã· (72 Ã— Cr, mg/dL)</div>
                <p class="muted">áƒ“áƒáƒ–áƒ˜áƒ áƒ”áƒ‘áƒ˜áƒ¡ áƒ™áƒáƒ áƒ”áƒ¥áƒªáƒ˜áƒ˜áƒ¡áƒ—áƒ•áƒ˜áƒ¡ áƒáƒœáƒ¢áƒ˜áƒ‘áƒ˜áƒáƒ¢áƒ˜áƒ™áƒ”áƒ‘áƒ—áƒáƒœ áƒ“áƒ áƒ¡áƒ®áƒ•áƒ áƒ›áƒ”áƒ“áƒ˜áƒ™áƒáƒ›áƒ”áƒœáƒ¢áƒ”áƒ‘áƒ—áƒáƒœ.</p>
                
                <div class="row">
                    <div>
                        <label for="crcl-age">áƒáƒ¡áƒáƒ™áƒ˜ (áƒ¬áƒ”áƒšáƒ˜)</label>
                        <input id="crcl-age" type="number" min="0" step="1" placeholder="áƒ›áƒáƒ’. 60" />
                    </div>
                    <div>
                        <label for="crcl-weight">áƒ¬áƒáƒœáƒ (áƒ™áƒ’)</label>
                        <input id="crcl-weight" type="number" min="0" step="0.1" placeholder="áƒ›áƒáƒ’. 70" />
                    </div>
                    <div>
                        <label for="crcl-gender">áƒ¡áƒ¥áƒ”áƒ¡áƒ˜</label>
                        <select id="crcl-gender">
                            <option value="male">áƒ›áƒáƒ›áƒ áƒáƒ‘áƒ˜áƒ—áƒ˜</option>
                            <option value="female">áƒ›áƒ“áƒ”áƒ“áƒ áƒáƒ‘áƒ˜áƒ—áƒ˜</option>
                        </select>
                    </div>
                    <div>
                        <label for="crcl-creatinine">áƒ¡áƒ”áƒ áƒ£áƒ›áƒ˜áƒ¡ áƒ™áƒ áƒ”áƒáƒ¢áƒ˜áƒœáƒ˜áƒœáƒ˜</label>
                        <input id="crcl-creatinine" type="number" min="0.1" step="0.01" placeholder="áƒ›áƒáƒ’. 1.2" />
                    </div>
                    <div>
                        <label for="crcl-unit">áƒ”áƒ áƒ—áƒ”áƒ£áƒšáƒ˜</label>
                        <select id="crcl-unit">
                            <option value="mg/dL">mg/dL</option>
                            <option value="Âµmol/L">Âµmol/L</option>
                        </select>
                    </div>
                </div>
                
                <div class="btns">
                    <button class="btn-primary" onclick="calcCrCl()">ğŸ§® áƒ’áƒáƒ›áƒáƒ—áƒ•áƒšáƒ</button>
                    <button class="btn-ghost" onclick="resetCard('crcl-card')">ğŸ”„ áƒ’áƒáƒ¡áƒ£áƒ¤áƒ—áƒáƒ•áƒ”áƒ‘áƒ</button>
                    <button class="btn-ghost" onclick="copyResult('crcl-result')">ğŸ“‹ áƒ™áƒáƒáƒ˜áƒ áƒ”áƒ‘áƒ</button>
                </div>
                
                <div id="crcl-result" class="result" aria-live="polite">áƒ¨áƒ”áƒ“áƒ”áƒ’áƒ˜: â€”</div>
                
                <div id="crcl-recommendations" class="recommendations hidden">
                    <h3 class="text-lg font-bold mb-4 flex items-center gap-2">
                        ğŸ’Š áƒáƒœáƒ¢áƒ˜áƒ‘áƒ˜áƒáƒ¢áƒ˜áƒ™áƒ”áƒ‘áƒ˜áƒ¡ áƒ“áƒáƒ–áƒ˜áƒ áƒ”áƒ‘áƒ˜áƒ¡ áƒ áƒ”áƒ™áƒáƒ›áƒ”áƒœáƒ“áƒáƒªáƒ˜áƒ”áƒ‘áƒ˜
                    </h3>
                    <div class="overflow-x-auto">
                        <table>
                            <thead>
                                <tr>
                                    <th>áƒáƒœáƒ¢áƒ˜áƒ‘áƒ˜áƒáƒ¢áƒ˜áƒ™áƒ˜</th>
                                    <th>CrCl (áƒ›áƒš/áƒ¬áƒ—)</th>
                                    <th>áƒ“áƒáƒ–áƒ</th>
                                    <th>áƒ¡áƒ˜áƒ®áƒ¨áƒ˜áƒ áƒ”</th>
                                </tr>
                            </thead>
                            <tbody id="crcl-rec-table-body"></tbody>
                        </table>
                    </div>
                    <p class="muted mt-3 text-xs">
                        âš ï¸ áƒ”áƒ¡ áƒ–áƒáƒ’áƒáƒ“áƒ˜ áƒ áƒ”áƒ™áƒáƒ›áƒ”áƒœáƒ“áƒáƒªáƒ˜áƒ”áƒ‘áƒ˜áƒ. áƒ§áƒáƒ•áƒ”áƒšáƒ—áƒ•áƒ˜áƒ¡ áƒ¨áƒ”áƒáƒ›áƒáƒ¬áƒ›áƒ”áƒ— áƒ™áƒšáƒ˜áƒœáƒ˜áƒ™áƒ£áƒ áƒ˜ áƒáƒ áƒáƒ¢áƒáƒ™áƒáƒšáƒ”áƒ‘áƒ˜.
                    </p>
                </div>
            </section>
        </div>

        <!-- Footer -->
        <footer class="foot">
            <div>
                <p>Â© 2025 IMEDCalc â€¢ áƒ¨áƒ”áƒ¥áƒ›áƒœáƒ˜áƒšáƒ˜áƒ áƒ¡áƒáƒ›áƒ”áƒ“áƒ˜áƒªáƒ˜áƒœáƒ áƒáƒ”áƒ áƒ¡áƒáƒœáƒáƒšáƒ˜áƒ¡áƒ—áƒ•áƒ˜áƒ¡</p>
                <p class="mt-1">v2.0.0 â€¢ <a href="/api/health" class="text-brand hover:underline" target="_blank">áƒ¡áƒ¢áƒáƒ¢áƒ£áƒ¡áƒ˜</a></p>
            </div>
        </footer>
    </div>

    <!-- Authentication Modals -->
    <!-- Login Modal -->
    <div id="loginModal" class="modal" role="dialog" aria-labelledby="loginTitle" aria-hidden="true">
        <div class="modal-content">
            <button class="modal-close" onclick="hideModal('loginModal')" aria-label="áƒ“áƒáƒ®áƒ£áƒ áƒ•áƒ">Ã—</button>
            <div class="modal-header">
                <h3 id="loginTitle">ğŸ” áƒ¨áƒ”áƒ¡áƒ•áƒšáƒ</h3>
            </div>
            <form id="loginForm" class="space-y-4">
                <div>
                    <label for="loginEmail" class="block text-sm font-medium mb-2">áƒ˜áƒ›áƒ”áƒ˜áƒšáƒ˜áƒ¡ áƒ›áƒ˜áƒ¡áƒáƒ›áƒáƒ áƒ—áƒ˜</label>
                    <input 
                        type="email" 
                        id="loginEmail" 
                        name="email" 
                        required 
                        class="w-full"
                        placeholder="example@domain.com"
                    >
                </div>
                <div>
                    <label for="loginPassword" class="block text-sm font-medium mb-2">áƒáƒáƒ áƒáƒšáƒ˜</label>
                    <input 
                        type="password" 
                        id="loginPassword" 
                        name="password" 
                        required 
                        class="w-full"
                        placeholder="áƒ›áƒ˜áƒœáƒ˜áƒ›áƒ£áƒ› 8 áƒ¡áƒ˜áƒ›áƒ‘áƒáƒšáƒ"
                    >
                </div>
                <button type="submit" class="btn-primary w-full">áƒ¨áƒ”áƒ¡áƒ•áƒšáƒ</button>
            </form>
            <div class="mt-4 text-center space-y-2">
                <button onclick="showPasswordReset()" class="text-sm text-brand hover:underline">áƒáƒáƒ áƒáƒšáƒ˜áƒ¡ áƒ’áƒáƒ’áƒ”áƒ‘áƒ?</button>
                <button onclick="showModal('registerModal')" class="text-sm text-muted hover:text-text">áƒáƒ  áƒ’áƒáƒ¥áƒ•áƒ— áƒáƒœáƒ’áƒáƒ áƒ˜áƒ¨áƒ˜? áƒ áƒ”áƒ’áƒ˜áƒ¡áƒ¢áƒ áƒáƒªáƒ˜áƒ</button>
            </div>
            <div id="loginError" class="mt-4 p-3 rounded-lg hidden"></div>
        </div>
    </div>

    <!-- Register Modal -->
    <div id="registerModal" class="modal" role="dialog" aria-labelledby="registerTitle" aria-hidden="true">
        <div class="modal-content">
            <button class="modal-close" onclick="hideModal('registerModal')" aria-label="áƒ“áƒáƒ®áƒ£áƒ áƒ•áƒ">Ã—</button>
            <div class="modal-header">
                <h3 id="registerTitle">ğŸ“ áƒ áƒ”áƒ’áƒ˜áƒ¡áƒ¢áƒ áƒáƒªáƒ˜áƒ</h3>
            </div>
            <form id="registerForm" class="space-y-4">
                <div>
                    <label for="registerName" class="block text-sm font-medium mb-2">áƒ¡áƒ áƒ£áƒšáƒ˜ áƒ¡áƒáƒ®áƒ”áƒšáƒ˜</label>
                    <input 
                        type="text" 
                        id="registerName" 
                        name="name" 
                        required 
                        class="w-full"
                        placeholder="áƒ›áƒáƒ’. áƒ’áƒ˜áƒáƒ áƒ’áƒ˜ áƒ’áƒ£áƒ“áƒáƒ‘áƒáƒ«áƒ”"
                    >
                </div>
                <div>
                    <label for="registerEmail" class="block text-sm font-medium mb-2">áƒ˜áƒ›áƒ”áƒ˜áƒšáƒ˜áƒ¡ áƒ›áƒ˜áƒ¡áƒáƒ›áƒáƒ áƒ—áƒ˜</label>
                    <input 
                        type="email" 
                        id="registerEmail" 
                        name="email" 
                        required 
                        class="w-full"
                        placeholder="example@domain.com"
                    >
                </div>
                <div>
                    <label for="registerPassword" class="block text-sm font-medium mb-2">áƒáƒáƒ áƒáƒšáƒ˜ (áƒ›áƒ˜áƒœ. 8 áƒ¡áƒ˜áƒ›áƒ‘áƒáƒšáƒ)</label>
                    <input 
                        type="password" 
                        id="registerPassword" 
                        name="password" 
                        required 
                        minlength="8"
                        class="w-full"
                        placeholder="áƒ«áƒšáƒ˜áƒ”áƒ áƒ˜ áƒáƒáƒ áƒáƒšáƒ˜"
                    >
                </div>
                <button type="submit" class="btn-primary w-full">áƒ áƒ”áƒ’áƒ˜áƒ¡áƒ¢áƒ áƒáƒªáƒ˜áƒ</button>
            </form>
            <div class="mt-4 text-center">
                <button onclick="showModal('loginModal')" class="text-sm text-muted hover:text-text">áƒ£áƒ™áƒ•áƒ” áƒ’áƒáƒ¥áƒ•áƒ— áƒáƒœáƒ’áƒáƒ áƒ˜áƒ¨áƒ˜? áƒ¨áƒ”áƒ¡áƒ•áƒšáƒ</button>
            </div>
            <div id="registerError" class="mt-4 p-3 rounded-lg hidden"></div>
        </div>
    </div>

    <!-- Profile Modal -->
    <div id="profileModal" class="modal" role="dialog" aria-labelledby="profileTitle" aria-hidden="true">
        <div class="modal-content">
            <button class="modal-close" onclick="hideModal('profileModal')" aria-label="áƒ“áƒáƒ®áƒ£áƒ áƒ•áƒ">Ã—</button>
            <div class="modal-header">
                <h3 id="profileTitle">ğŸ‘¤ áƒáƒ áƒáƒ¤áƒ˜áƒšáƒ˜</h3>
            </div>
            <div id="profileInfo" class="mb-6 p-4 bg-surface rounded-xl text-sm space-y-2"></div>
            
            <form id="logoUploadForm" class="space-y-4" enctype="multipart/form-data">
                <div>
                    <label for="logoFile" class="block text-sm font-medium mb-2 flex items-center gap-2">
                        ğŸ–¼ï¸ áƒšáƒáƒ’áƒáƒ¡ áƒ¨áƒ”áƒªáƒ•áƒšáƒ
                        <span class="text-xs text-muted">(SVG, áƒ›áƒáƒ¥áƒ¡. 2MB)</span>
                    </label>
                    <input 
                        type="file" 
                        id="logoFile" 
                        name="logo" 
                        accept=".svg" 
                        class="w-full p-2 border-2 border-dashed border-muted rounded-xl text-sm"
                    >
                </div>
                <button type="submit" class="btn-primary w-full">ğŸ“¤ áƒšáƒáƒ’áƒáƒ¡ áƒáƒ¢áƒ•áƒ˜áƒ áƒ—áƒ•áƒ</button>
            </form>
            
            <div id="uploadError" class="mt-4 p-3 rounded-lg hidden"></div>
        </div>
    </div>

    <!-- Toast Container -->
    <div id="toastContainer" class="fixed bottom-6 right-6 space-y-2 z-50 hidden"></div>

    <!-- Scripts -->
    <script src="/js/auth.js"></script>
    <script src="/js/script.js"></script>
</body>
</html>